if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_lockedOrientation']=undefined;this['_device']=undefined;this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT']='portrait';TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']='landscape';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}this['player']['delete']();this['player']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var s=function(v){if(v['name']=='begin'){var w=v['data']['source']['get']('camera');if(w&&w['get']('initialSequence')&&w['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(v['sourceClassName']=='MediaAudio')return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',s,u,!![]);u['unbindOnObjectsOf']('PanoramaPlayListItem','begin',s,u,!![]);u['unbind']('stateChange',s,u,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_currentScriptUrl']=this['_getScriptUrl']();var t=this['_getOrientation']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bind']('preloadMediaShow',s,this,!![]);u['bind']('stateChange',s,this,!![]);u['bindOnObjectsOf']('PanoramaPlayListItem','begin',s,this,!![]);u['bindOnObject']('rootPlayer','start',function(x){var y=x['data']['source'];var z=window['navigator']['language']||window['navigator']['userLanguage']||'en';var A=y['get']('data')['locales']||{};var B=y['get']('data')['defaultLocale']||z;var C=this['locManager']=new TDV['Tour']['LocaleManager'](y,A,B,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));y['get']('data')['localeManager']=C;var D=function(){var J=y['get']('data');if(!('updateText'in J)){J['updateText']=function(N){var O=N[0x0]['split']('.');if(O['length']==0x2){var P=C['trans']['apply'](C,N);var Q=N[0x1]||y;if(typeof Q=='string'){var R=Q['split']('.');Q=y[R['shift']()];for(var S=0x0;S<R['length']-0x1;++S){if(Q!=undefined)Q='get'in Q?Q['get'](R[S]):Q[R[S]];}if(Q!=undefined){var T=R[R['length']-0x1];if(Array['isArray'](Q)){for(var U=0x0;U<Q['length'];++U){this['setValue'](Q[U],T,P);}}else this['setValue'](Q,T,P);}}else{Q=Q[O[0x0]];this['setValue'](Q,O[0x1],P);}}}['bind'](y);}var K=J['translateObjs'];var L=J['updateText'];var M=function(){for(var V in K){L(K[V]);}};M();M();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],D['bind'](this));var E=this['_getParams'](location['search']['substr'](0x1));var F=E['language'];if(!F||!this['locManager']['hasLocale'](E['language']))F=z;this['setLocale'](F);this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![])||this['_setMediaFromURL'](E,!![]);if(this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']&&typeof this['_devicesUrl'][TDV['Tour']['DEVICE_MOBILE']]=='object'){var G=function(){if(!y['isCardboardViewMode']()&&this['_getOrientation']()!=t){this['reload']();}};var H=y['getByClassName']('PanoramaPlayer');for(var I=0x0;I<H['length'];++I){H[I]['bind']('viewModeChange',G,this);}y['bind']('orientationChange',G,this);}this['_onHashChange']=function(){this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![]);}['bind'](this);this['_onKeyUp']=function(W){if(W['key']=='u'){this['updateDeepLink']();this['copyToClipboard'](location['href']);}}['bind'](this);window['addEventListener']('hashchange',this['_onHashChange']);document['addEventListener']('keyup',this['_onKeyUp']);y['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,![]);window['addEventListener']('message',function(X){var Y=X['data'];if(Y=='pauseTour')Y='pause';else if(Y=='resumeTour')Y='resume';else return;this[Y]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var Z=player['getByClassName']('PlayList');for(var a0=0x0,a1=Z['length'];a0<a1;a0++){var a2=Z[a0];var a3=a2['get']('selectedIndex');if(a3!=-0x1){var a4=a2['get']('items')[a3];var a5=a4['get']('player');if(a5&&a5['pause']){this['_playersPlayingTmp']['push'](a5);a5['pause']();}}}this['player']['getById']('pauseGlobalAudios')();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a6=this['playersPlayingTmp']['pop']();a6['play']();}this['player']['getById']('resumeGlobalAudios')();};TDV['Tour']['prototype']['reload']=function(){this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a7){var a8=this['_getRootPlayer']();if(a8!==undefined){return a8['setMainMediaByIndex'](a7);}};TDV['Tour']['prototype']['setMediaByName']=function(a9){var aa=this['_getRootPlayer']();if(aa!==undefined){return aa['setMainMediaByName'](a9);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(ab,ac,ad,ae){var af=this['_getRootPlayer']();if(af!==undefined){var ag=function(){var ak=af['getPanoramaOverlayByName'](ab['get']('media'),ac);if(ak){if(ae){var al=ak['get']('class');var am=al=='VideoPanoramaOverlay'?ak:ak['get']('items')[0x0];var an=am['get']('yaw');var ao=am['get']('pitch');var ap=af['getPlayListWithItem'](ab);if(an&&ao&&ap){var aq=function(){af['setPanoramaCameraWithSpot'](ap,ab,an,ao);};if(!this['_isInitialized']){var ar=function(){ab['unbind']('begin',ar,this);aq();};ab['bind']('begin',ar,this);}else{aq();}}}if(ad){af['triggerOverlay'](ak,ad);}}}['bind'](this);var ah=ab['get']('player');if(ah){var ai=af['getMediaFromPlayer'](ah);if(ai==ab['get']('media')){ag();return;}}var aj=function(){ab['unbind']('begin',arguments['callee'],this);ag();};ab['bind']('begin',aj,af);}};TDV['Tour']['prototype']['updateDeepLink']=function(){var as=this['_getRootPlayer']();if(as!==undefined){as['updateDeepLink']();}};TDV['Tour']['prototype']['setLocale']=function(at){var au=this['_getRootPlayer']();if(au!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](at);}};TDV['Tour']['prototype']['isMobile']=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i['test'](navigator['userAgent']||navigator['vendor']||window['opera']);};TDV['Tour']['prototype']['copyToClipboard']=function(av){if(navigator['clipboard']){navigator['clipboard']['writeText'](av);}else{var aw=document['createElement']('textarea');aw['value']=av;aw['style']['position']='fixed';document['body']['appendChild'](aw);aw['focus']();aw['select']();try{document['execCommand']('copy');}catch(ax){}document['body']['removeChild'](aw);}};TDV['Tour']['prototype']['_getOrientation']=function(){var ay=this['_getRootPlayer']();if(ay){return ay['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return window['innerWidth']>window['innerHeight']?TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE']:TDV['Tour']['DEVICE_ORIENTATION_PORTRAIT'];}};TDV['Tour']['prototype']['_getParams']=function(az){var aA={};az['split']('&')['forEach'](function(aB){var aC=aB['split']('=')[0x0],aD=decodeURIComponent(aB['split']('=')[0x1]);aA[aC['toLowerCase']()]=aD;});return aA;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_getScriptUrl']=function(){this['_device']=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']){this['_device']=TDV['Tour']['DEVICE_MOBILE'];}var aE=this['_devicesUrl'][this['_device']];if(typeof aE=='object'){var aF=this['_getOrientation']();if(aF in aE){aE=aE[aF];}}return aE;};TDV['Tour']['prototype']['_setMediaFromURL']=function(aG,aH){var aI=undefined;if('media'in aG){var aJ=aG['media'];var aK=Number(aJ);aI=isNaN(aK)?this['setMediaByName'](aJ):this['setMediaByIndex'](aK-0x1);}else if('media-index'in aG){aI=this['setMediaByIndex'](parseInt(aG['media-index'])-0x1);}else if('media-name'in aG){aI=this['setMediaByName'](aG['media-name']);}if(aI==undefined&&aH){aI=this['setMediaByIndex'](0x0);}if(aI!=undefined){if('trigger-overlay-name'in aG){this['triggerOverlayByName'](aI,aG['trigger-overlay-name'],'trigger-overlay-event'in aG?aG['trigger-overlay-event']:'click',![]);}if('focus-overlay-name'in aG){this['triggerOverlayByName'](aI,aG['focus-overlay-name'],undefined,!![]);}else if('yaw'in aG&&'pitch'in aG){var aL=parseInt(aG['yaw']);var aM=parseInt(aG['pitch']);var aN=this['_getRootPlayer']();var aO=aN['getPlayListWithItem'](aI);if(!isNaN(aL)&&!isNaN(aM)&&aO)aN['setPanoramaCameraWithSpot'](aO,aI,aL,aM);}}return aI!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var aP=function(){var aQ=undefined;var aR=function(){var aU=this['_getRootPlayer']();aQ=aU['get']('lockedOrientation');aU['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['Tour']['DEVICE_ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var aS=function(){aR();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aS);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],aS);this['reload']();}else{aR();}var aT=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',aQ);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],aT);var aV=this['_getScriptUrl']();if(this['_currentScriptUrl']!=aV)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],aT);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],aP);}};TDV['Tour']['LocaleManager']=function(aW,aX,aY,aZ){TDV['EventDispatcher']['call'](this);this['rootPlayer']=aW;this['locales']={};this['defaultLocale']=aY;this['queryParam']=aZ;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var b0 in aX){this['registerLocale'](b0,aX[b0]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(b1,b2){var b3=[b1,b1['split']('-')[0x0]];for(var b4=0x0;b4<b3['length'];++b4){b1=b3[b4];if(!(b1 in this['locales'])){this['locales'][b1]=b2;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(b5){delete this['locales'][b5];if(b5==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(b6){return b6 in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(b7){var b8=undefined;var b9=b7['split']('-')[0x0];var ba=[b7,b9];for(var bb=0x0;bb<ba['length'];++bb){var bd=ba[bb];if(bd in this['locales']){b8=bd;break;}}if(b8===undefined){for(var bd in this['locales']){if(bd['indexOf'](b9)==0x0){b8=bd;break;}}}if(b8===undefined){b8=this['defaultLocale'];}var be=this['locales'][b8];if(be!==undefined&&this['currentLocaleID']!=b8){this['currentLocaleID']=b8;var bf=this;if(typeof be=='string'){var bg=new XMLHttpRequest();bg['onreadystatechange']=function(){if(bg['readyState']==0x4){if(bg['status']==0xc8){bf['locales'][b8]=bf['currentLocaleMap']=bf['_parsePropertiesContent'](bg['responseText']);bf['dispatchEvent'](bf['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw be+'\x20can\x27t\x20be\x20loaded';}}};var bh=be;if(this['queryParam'])bh+=(bh['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];bg['open']('GET',bh);bg['send']();}else{this['currentLocaleMap']=be;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(bi){var bj=this['currentLocaleMap'][bi];if(arguments['length']>0x2){var bk=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var bl=arguments;function bm(bn){return/^\d+$/['test'](bn);}bj=bj['replace'](/\{\{([\w\.]+)\}\}/g,function(bo,bp){if(bm(bp))bp=bl[parseInt(bp)+0x1];else if(bk!==undefined)bp=bk[bp];if(typeof bp=='string')bp=this['currentLocaleMap'][bp]||bp;else if(typeof bp=='function')bp=bp['call'](this['rootPlayer']);return bp!==undefined?bp:'';}['bind'](this));}return bj;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(bq){bq=bq['replace'](/(^|\n)#[^\n]*/g,'');var br={};var bs=bq['split']('\x0a');for(var bt=0x0,bu=bs['length'];bt<bu;++bt){var bv=bs[bt]['trim']();if(bv['length']==0x0){continue;}var bw=bv['indexOf']('=');if(bw==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+bt);continue;}var bx=bv['substr'](0x0,bw)['trim']();var by=bv['substr'](bw+0x1)['trim']();var bz;while((bz=by['lastIndexOf']('\x5c'))!=-0x1&&bz==by['length']-0x1&&++bt<bu){by=by['substr'](0x0,by['length']-0x2);bv=bs[bt]['trim']();if(bv['length']==0x0)break;by+='\x0a'+bv;}br[bx]=by;}return br;};TDV['Tour']['HistoryData']=function(bA){this['playList']=bA;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(bB){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==bB){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],bB);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(bC,bD){for(var bE in bC){var bF=bC[bE];if(typeof bF=='object'&&bF!==null)this['assignObjRecursively'](bC[bE],bD[bE]||(bD[bE]={}));else bD[bE]=bF;}return bD;};TDV['Tour']['Script']['autotriggerAtStart']=function(bG,bH,bI){var bJ=function(bK){bH();if(bI==!![])bG['unbind']('change',bJ,this);};bG['bind']('change',bJ,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(bL,bM,bN){var bO=function(bV){bP['unbind']('stop',bO,this);if(bN==bR['get']('backgroundColor')&&bU==bR['get']('backgroundColorRatios')){bR['set']('backgroundColor',bS);bR['set']('backgroundColorRatios',bT);}};var bP=bL['get']('items')[bM];var bQ=bP['get']('player');var bR=bQ['get']('viewerArea');var bS=bR['get']('backgroundColor');var bT=bR['get']('backgroundColorRatios');var bU=[0x0];if(bN!=bS||bU!=bT){bR['set']('backgroundColor',bN);bR['set']('backgroundColorRatios',bU);bP['bind']('stop',bO,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(bW,bX){var bY=bW['get']('selectedIndex');if(bY>=0x0&&bX>=0x0&&bY!=bX){var bZ=bW['get']('items')[bY];var c0=bW['get']('items')[bX];var c1=bZ['get']('player');var c2=c0['get']('player');if((c1['get']('class')=='PanoramaPlayer'||c1['get']('class')=='Video360Player')&&(c2['get']('class')=='PanoramaPlayer'||c2['get']('class')=='Video360Player')){var c3=this['cloneCamera'](c0['get']('camera'));this['setCameraSameSpotAsMedia'](c3,bZ['get']('media'));this['startPanoramaWithCamera'](c0['get']('media'),c3);}}};TDV['Tour']['Script']['cloneCamera']=function(c4){var c5=this['rootPlayer']['createInstance'](c4['get']('class'));c5['set']('id',c4['get']('id')+'_copy');c5['set']('initialSequence',c4['get']('initialSequence'));c5['set']('idleSequence',c4['get']('idleSequence'));return c5;};TDV['Tour']['Script']['copyObjRecursively']=function(c6){var c7={};for(var c8 in c6){var c9=c6[c8];if(typeof c9=='object'&&c9!==null)c7[c8]=this['copyObjRecursively'](c6[c8]);else c7[c8]=c9;}return c7;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(ca,cb,cc,cd){var ce=undefined;var cf=function(ci){if(ci['data']['previousSelectedIndex']==cb){if(cd)cd['call'](this);if(cc&&ce)ce['unbind']('end',cc,this);ca['unbind']('change',cf,this);}};if(cc){var cg=ca['get']('items')[cb];if(cg['get']('class')=='PanoramaPlayListItem'){var ch=cg['get']('camera');if(ch!=undefined)ce=ch['get']('initialSequence');if(ce==undefined)ce=ch['get']('idleSequence');}else{ce=cg['get']('media');}if(ce){ce['bind']('end',cc,this);}}ca['bind']('change',cf,this);};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(cj){var ck=cj['get']('buttonPlayPause');if(typeof ck!=='undefined'&&cj['get']('state')=='playing'){if(!Array['isArray'](ck))ck=[ck];for(var cl=0x0;cl<ck['length'];++cl)ck[cl]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(cm){var cn=this['getActivePlayerWithViewer'](cm);if(cn==undefined){return undefined;}return this['getMediaFromPlayer'](cn);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(co){var cp=this['getCurrentPlayers']();var cq=cp['length'];while(cq-->0x0){var cr=cp[cq];if(cr['get']('viewerArea')==co){var cs=cr['get']('class');if(cs=='PanoramaPlayer'&&(cr['get']('panorama')!=undefined||cr['get']('video')!=undefined))return cr;else if((cs=='VideoPlayer'||cs=='Video360Player')&&cr['get']('video')!=undefined)return cr;else if(cs=='PhotoAlbumPlayer'&&cr['get']('photoAlbum')!=undefined)return cr;else if(cs=='MapPlayer'&&cr['get']('map')!=undefined)return cr;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(ct){var cu=undefined;var cv=undefined;switch(ct['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':cu='PanoramaPlayer';cv='panorama';break;case'Video360':cu='PanoramaPlayer';cv='video';break;case'PhotoAlbum':cu='PhotoAlbumPlayer';cv='photoAlbum';break;case'Map':cu='MapPlayer';cv='map';break;case'Video':cu='VideoPlayer';cv='video';break;};if(cu!=undefined){var cw=this['getByClassName'](cu);for(var cx=0x0;cx<cw['length'];++cx){var cy=cw[cx];if(cy['get'](cv)==ct){return cy;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var cz=this['getByClassName']('PanoramaPlayer');cz=cz['concat'](this['getByClassName']('VideoPlayer'));cz=cz['concat'](this['getByClassName']('Video360Player'));cz=cz['concat'](this['getByClassName']('PhotoAlbumPlayer'));cz=cz['concat'](this['getByClassName']('MapPlayer'));return cz;};TDV['Tour']['Script']['getGlobalAudio']=function(cA){var cB=window['currentGlobalAudios'];if(cB!=undefined&&cA['get']('id')in cB){cA=cB[cA['get']('id')]['audio'];}return cA;};TDV['Tour']['Script']['getMediaByName']=function(cC){var cD=this['getByClassName']('Media');for(var cE=0x0,cF=cD['length'];cE<cF;++cE){var cG=cD[cE];var cH=cG['get']('data');if(cH&&cH['label']==cC){return cG;}}return undefined;};TDV['Tour']['Script']['getComponentByName']=function(cI){var cJ=this['getByClassName']('UIComponent');for(var cK=0x0,cL=cJ['length'];cK<cL;++cK){var cM=cJ[cK];var cN=cM['get']('data');if(cN!=undefined&&cN['name']==cI){return cM;}}return undefined;};TDV['Tour']['Script']['getMediaFromPlayer']=function(cO){switch(cO['get']('class')){case'PanoramaPlayer':return cO['get']('panorama')||cO['get']('video');case'VideoPlayer':case'Video360Player':return cO['get']('video');case'PhotoAlbumPlayer':return cO['get']('photoAlbum');case'MapPlayer':return cO['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(cP){switch(cP['get']('class')){case'Video360':var cQ=cP['get']('video');if(cQ instanceof Array){var cR=0x0;for(var cS=0x0;cS<cQ['length'];cS++){var cT=cQ[cS];if(cT['get']('width')>cR)cR=cT['get']('width');}return cR;}else{return cT['get']('width');}default:return cP['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(cU){switch(cU['get']('class')){case'Video360':var cV=cU['get']('video');if(cV instanceof Array){var cW=0x0;for(var cX=0x0;cX<cV['length'];cX++){var cY=cV[cX];if(cY['get']('height')>cW)cW=cY['get']('height');}return cW;}else{return cY['get']('height');}default:return cU['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(cZ){switch(cZ['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var d0=cZ['get']('overlays')['concat']()||[];var d1=cZ['get']('frames');for(var d2=0x0;d2<d1['length'];++d2){d0=d0['concat'](d1[d2]['get']('overlays')||[]);}return d0;case'Video360':case'Map':return cZ['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(d3,d4){var d5=this['getOverlays'](d3);for(var d6=0x0,d7=d5['length'];d6<d7;++d6){var d8=d5[d6];var d9=d8['get']('data');if(d9!=undefined&&d9['label']==d4){return d8;}}return undefined;};TDV['Tour']['Script']['getPixels']=function(da){var db=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](da);if(db==undefined){return 0x0;}var dc=parseFloat(db[0x1]);var dd=db[0x4];var de=this['rootPlayer']['get']('actualWidth')/0x64;var df=this['rootPlayer']['get']('actualHeight')/0x64;switch(dd){case'vw':return dc*de;case'vh':return dc*df;case'vmin':return dc*Math['min'](de,df);case'vmax':return dc*Math['max'](de,df);default:return dc;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(dg,dh){var di=[];var dj=this['getByClassName']('PlayList');for(var dk=0x0,dl=dj['length'];dk<dl;++dk){var dm=dj[dk];if(dh&&dm['get']('selectedIndex')==-0x1)continue;if(this['getPlayListItemByMedia'](dm,dg)!=undefined)di['push'](dm);}return di;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(dn){var dp=this['getByClassName']('PlayList');var dq=function(ds){var dt=ds['get']('items');for(var du=dt['length']-0x1;du>=0x0;--du){var dv=dt[du];var dw=dv['get']('player');if(dw!==undefined&&dw['get']('viewerArea')==dn)return!![];}return![];};for(var dr=dp['length']-0x1;dr>=0x0;--dr){if(!dq(dp[dr]))dp['splice'](dr,0x1);}return dp;};TDV['Tour']['Script']['getPlayListWithItem']=function(dx){var dy=this['getByClassName']('PlayList');for(var dz=dy['length']-0x1;dz>=0x0;--dz){var dA=dy[dz];var dB=dA['get']('items');for(var dC=dB['length']-0x1;dC>=0x0;--dC){var dD=dB[dC];if(dD==dx)return dA;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(dE,dF){var dG=this['getPlayListsWithMedia'](dE,dF);return dG['length']>0x0?dG[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(dH,dI){var dJ=dH['get']('items');for(var dK=0x0,dL=dJ['length'];dK<dL;++dK){var dM=dJ[dK];if(dM['get']('media')==dI)return dM;}return undefined;};TDV['Tour']['Script']['getPlayListItems']=function(dN,dO){var dP=function(){switch(dN['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(dP!=undefined){var dQ=this['getByClassName'](dP);for(var dR=dQ['length']-0x1;dR>=0x0;--dR){var dS=dQ[dR];if(dS['get']('media')!=dN||dO!=undefined&&dS['get']('player')!=dO){dQ['splice'](dR,0x1);}}return dQ;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(dT){var dU=this['get']('data')['history'][dT['get']('id')];if(dU!=undefined){dU['back']();}};TDV['Tour']['Script']['historyGoForward']=function(dV){var dW=this['get']('data')['history'][dV['get']('id')];if(dW!=undefined){dW['forward']();}};TDV['Tour']['Script']['init']=function(){var dX=this['get']('data')['history'];var dY=function(e3){var e4=e3['source'];var e5=e4['get']('selectedIndex');if(e5<0x0)return;var e6=e4['get']('id');if(!dX['hasOwnProperty'](e6))dX[e6]=new TDV['Tour']['HistoryData'](e4);dX[e6]['add'](e5);};var dZ=this['getByClassName']('PlayList');for(var e0=0x0,e1=dZ['length'];e0<e1;++e0){var e2=dZ[e0];e2['bind']('change',dY,this);}};TDV['Tour']['Script']['initGA']=function(){var e7=function(ex,ey,ez){ga('send','event',ex,ey,ez);};var e9=this['getByClassName']('Panorama');e9=e9['concat'](this['getByClassName']('Video360'));e9=e9['concat'](this['getByClassName']('Map'));for(var ec=0x0,ef=e9['length'];ec<ef;++ec){var eg=e9[ec];var ei=eg['get']('data');var ej=ei?ei['label']:undefined;var ek=this['getOverlays'](eg);for(var el=0x0,em=ek['length'];el<em;++el){var en=ek[el];var eo=en['get']('data')!=undefined?ej+'\x20-\x20'+en['get']('data')['label']:ej;switch(en['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':var ep=en['get']('areas');for(var eq=0x0;eq<ep['length'];++eq){ep[eq]['bind']('click',e7['bind'](this,'Hotspot','click',eo),this);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':en['bind']('click',e7['bind'](this,'Cap','click',eo),this);break;case'VideoPanoramaOverlay':en['bind']('click',e7['bind'](this,'Hotspot','click',eo));en['bind']('start',e7['bind'](this,'Hotspot','start',eo));break;}}}var er=this['getByClassName']('Button');er=er['concat'](this['getByClassName']('IconButton'));for(var ec=0x0,ef=er['length'];ec<ef;++ec){var es=er[ec];var et=es['get']('data')['name'];es['bind']('click',e7['bind'](this,'Skin','click',et),this);}var eu=this['getByClassName']('PlayListItem');var ev={};for(var ec=0x0,ef=eu['length'];ec<ef;++ec){var ew=eu[ec];var e9=ew['get']('media');if(!(e9['get']('id')in ev)){var ei=e9['get']('data');ew['bind']('begin',e7['bind'](this,'Media','play',ei?ei['label']:undefined),this);ev[e9['get']('id')]=ew;}}};TDV['Tour']['Script']['initQuiz']=function(eA,eB){var eC={'question':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.2},'window':{'width':'60%','height':'60%','backgroundColor':'#ffffff','backgroundOpacity':0.9,'borderRadius':0x5,'horizontalAlign':'center','minWidth':0x1f4,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'shadowBlurRadius':0x4,'shadow':!![],'shadowColor':'#000000','shadowOpacity':0.3,'shadowHorizontalLength':0x0,'shadowVerticalLength':0x0,'shadowSpread':0x4,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'600','paddingLeft':0x32,'paddingRight':0x32,'paddingBottom':0x28,'paddingTop':0x19,'textAlign':'center'},'buttonsContainer':{'horizontalAlign':'right','verticalAlign':'bottom','button':{'backgroundColor':'#000000','backgroundOpacity':0.7,'borderRadius':0x3,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xa,'paddingBottom':0xa,'verticalAlign':'middle'}},'bodyContainer':{'width':'100%','height':'100%','gap':0x23,'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e,'paddingBottom':0x1e},'mediaContainer':{'width':'70%','height':'100%','buttonNext':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=','width':0x19,'height':0x25},'buttonPrevious':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC','width':0x19,'height':0x25},'viewerArea':{'playbackBarBackgroundColor':'#000000','playbackBarBackgroundOpacity':0.5,'playbackBarBorderRadius':0x0,'playbackBarBorderSize':0x0,'playbackBarBottom':0x5,'playbackBarHeight':0x6,'playbackBarLeft':0x0,'playbackBarRight':0x0,'playbackBarProgressBackgroundColor':'#3399ff','playbackBarProgressOpacity':0.5,'playbackBarHeadBackgroundColor':'#cccccc','playbackBarHeadBorderColor':'#ffffff','playbackBarHeadBorderRadius':0x7,'playbackBarHeadBorderSize':0x3,'playbackBarHeadOpacity':0x1,'playbackBarHeadWidth':0xe,'playbackBarHeadHeight':0xe,'playbackBarHeadShadow':!![],'playbackBarHeadShadowBlurRadius':0x2,'playbackBarHeadShadowColor':'#000000','playbackBarHeadShadowHorizontalLength':0x0,'playbackBarHeadShadowOpacity':0.3,'playbackBarHeadShadowSpread':0x2,'playbackBarHeadShadowVerticalLength':0x0,'backgroundColor':'#e6e6e6','backgroundOpacity':0x1}},'optionsContainer':{'gap':0xa,'width':'30%','height':'100%','overflow':'scroll','contentOpaque':!![]},'option':{'gap':0xa,'text':{'fontColor':'#404040','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left','verticalAlign':'middle','selected':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left'}},'label':{'borderRadius':0x13,'backgroundColor':'#000000','backgroundOpacity':0.2,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26,'correct':{'borderRadius':0x13,'backgroundColor':'#39b54a','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26},'incorrect':{'borderRadius':0x13,'backgroundColor':'#ed1c24','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26}}},'closeButton':{'backgroundColor':'#009FE3','height':0x2d,'iconColor':'#FFFFFF','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d}}},'score':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','minWidth':0x1f4,'maxWidth':0x5dc,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'content':{'width':'100%','horizontalAlign':'center'},'closeButton':{'backgroundColor':'#009fe3','height':0x2d,'iconColor':'#ffffff','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x32,'fontWeight':'800','paddingBottom':0xf,'paddingTop':0x32,'textAlign':'center'},'description':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x10,'fontWeight':'400','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'textAlign':'center'},'statsContainer':{'gap':0x14,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'verticalAlign':'middle','overflow':'scroll','contentOpaque':!![]},'stats':{'borderColor':'#009fe3','borderSize':0x1,'borderRadius':0x4b,'gap':0x0,'height':0x96,'horizontalAlign':'center','layout':'vertical','verticalAlign':'middle','minWidth':0x96,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'400','paddingTop':0xa,'paddingLeft':0x5,'paddingRight':0x5},'mainValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'700'},'secondaryValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'700'},'label':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0xf,'fontWeight':'400'}},'calification':{'fontColor':'#009fe3','fontFamily':'Arial','fontSize':0x1e,'fontWeight':'700','textAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xa,'paddingTop':0xf,'verticalAlign':'middle','width':'100%'},'timeContainer':{'gap':0x5,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xa,'verticalAlign':'middle','width':'100%'},'buttonsContainer':{'gap':0x8,'paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0x32,'paddingTop':0x23,'horizontalAlign':'center','verticalAlign':'middle','width':'100%','button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'}}}},'timeout':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','gap':0xf,'paddingBottom':0x37,'paddingLeft':0x50,'paddingRight':0x50,'paddingTop':0x2d,'icon':{'height':0x48,'url':'data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgASAA+AwERAAIRAQMRAf/EAHQAAAICAwEBAAAAAAAAAAAAAAUGAAQCAwcBCQEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAgMHAwMBCQAAAAAAAQIDBAARBSExQRITUWFxkbEiBoGhFFJiIzLB0UJygqJDYyQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APv5QSglBydzJZHqOf8AvkD3HQOqA37AaAjhZ85zJxG3Jjzja1EKQtxSgfaeBNB0eglBKANl8w1jGwkAOylj+NnsH6ld1BliMqjKMrVydN9mweQNtb2IPfagkzOY6EShb3VdTu017j9TsPOgQspNiTHELiQxFCebnItdZPEgCgu4fKwcekfkQuo8FEplJCSoAi1he3rQO8PKQZ+kd8Fe5aV7VeR3+lAMzGeGOdTHZbDz+inea4SlJ2GnE0FtOaiLxzmRTdSWQOqyP6kqJACT4k70CtmMLkPzJEhtKpTTpU51Li6Rvym54DagAMy5Mdt1pl5TSHwA6lJte1AQx+Em5ABxCQywf+degP8AlG5oGRr4lEAHWlPLVxKAlI+4VQYP/EmSD+NLWlXAOgKHmLelArTMfNxjiesko1u0+gnlJHYrTWg0uOyp8hBcUqRIc5W0Xtc8AKAyxgskmHNWptSFrSltuMCLrPUSSTrawtQHfk88x4yIjSrOSr9Qjg2N/M0ADAYkT3i++LxY5F0/rVvy+HbQPU5yRHhuKgsB15AAaatpa4GgFthwoKj7M/IYxpIc/AmL5VOBJI23FxqL70Hs5zJRIcZMNsTZCeRD61AkmwsVWuNzQEHWW5TBZkthSXUjqNnWx7j3dtBzDJwHMZMU1clH9cd3YlPD6igcUZhxeAdnJsZLIDTncskJ5v8AcDQLPyN0u5V8HZlKG0+HKCfuTQO+GYEbGRE2sVoDiz3r92vhe1B5jse5DclurmKlJlK5kg8N+8660HuQy8THKQh7nW64LpabAKrdupAoFub8pdc/jx7Jb5tA64AVa9iRcetBcw+PmtyBkslIUhxwFCGVq9yub9V9u4UGz5VHDkJqRb3sOWv+1eh+4FArQ3iMXmI99FJZcA7CHUg+ooJnkFGWmA8VJUP9SQaB9jtonYdhrnKUPxkIKk7j2gH70GzGx2IcYQ2ZAfMckOG4JCiSbEDbwoBmShz28i1lMe0iQtLfTWys2tuLi5Hb20GWHxKo6nps1pH5r6ytKRYhsHU2toCSeFBZyUGFknWGHpPTfYJWllC0hZSbX9pueG9BW+TrCMWtJ3dcQlP0PN/ZQJURJMLLK4BlsE95eRb0oDvyuIUvMTUj2OJ6Th7FDUeY9KC38XyCVsqx7irONErY70nUj6HWgJmNDwjc7IoS64XLKcRcHdWydBxPGguNZGM5BbnuK/HYcF/5NCNbW86DVkMozAitS+QyG3lJCCg6WUL3v4CgyRAiuy2sryrTIU2OUE2Aum2o7bG1An/JsgmTJTFaVzNRb86hsVnfy2oNkeEtr41PfKTzyihYH/WhabH1NA6zIrU2O7GeF0OC1+IPAjwoOYSosvEywlRLbrZ5mXk7KHAigbcf8ljPoDOQAZdtYu2u2rx7PSgPOtQslH6JKH45sQG1aC21ik0HqnYMFlDTjrbDTSQlCFqGw20OpoFTK/JeolUfHXSFaLkkWNv2jh4mgD4fEuZJ8FQKYrZ/nc7f2jvNB0zpt9Po8g6XLydO2nLa1reFBnQVZkKNOaLMlsLT/hVspJ7QeFAlTPi0tolUNYkt8EKISseeh86AKvFZJB5TAfJ/a2pQ8wDQZtYjJunlTBeB7VpKB5qtQMEH4qolLk90BO/QbNye4q/uoHJplphtLTKA22gWShOgFBsoP//Z','width':0x3e},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'800','textAlign':'center','paddingBottom':0x14},'button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'},'buttonsContainer':{'horizontalAlign':'center','width':'100%','gap':0xa}}}};eA['theme']='theme'in eA?this['mixObject'](eC,eA['theme']):eC;if(eA['player']['get']('isMobile')){var eD=this['mixObject'](eA['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}}});eA['theme']=eD;}var eE=this['get']('data');var eF=document['getElementById']('metaViewport');var eG=eF?/initial-scale=(\d+(\.\d+)?)/['exec'](eF['getAttribute']('content')):undefined;var eH=eG?eG[0x1]:0x1;eE['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/eH,'maxHeight':0x258/eH,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'}}}};var eI=new TDV['Quiz'](eA);eI['setMaxListeners'](0x32);eI['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((eI['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+eI['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(eI['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+eI['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)eI['finish']();}['bind'](this));if(eB===!![])eI['start']();eE['quiz']=eI;};TDV['Tour']['Script']['isCardboardViewMode']=function(){var eJ=this['getByClassName']('PanoramaPlayer');return eJ['length']>0x0&&eJ[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['keepCompVisible']=function(eK,eL){var eM='keepVisibility_'+eK['get']('id');var eN=this['getKey'](eM);if(eN==undefined&&eL){this['registerKey'](eM,eL);}else if(eN!=undefined&&!eL){this['unregisterKey'](eM);}};TDV['Tour']['Script']['_initItemWithComps']=function(eO,eP,eQ,eR,eS,eT,eU,eV){var eW=eO['get']('items')[eP];var eX=eW['get']('media');var eY=eX['get']('loop')==undefined||eX['get']('loop');var eZ=eV>0x0;var f0=this['rootPlayer'];var f1=function(f9){var fa=eT?eT['get']('class'):undefined;var fb=undefined;switch(fa){case'FadeInEffect':case'FadeOutEffect':fb=f0['createInstance'](f9?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':fb=f0['createInstance'](f9?'SlideInEffect':'SlideOutEffect');break;}if(fb){fb['set']('duration',eT['get']('duration'));fb['set']('easing',eT['get']('easing'));if(fa['indexOf']('Slide')!=-0x1)fb['set'](f9?'from':'to',eT['get'](eT['get']('class')=='SlideInEffect'?'from':'to'));}return fb;};var f2=function(){for(var fc=0x0,fd=eQ['length'];fc<fd;++fc){var fe=eQ[fc];if(eV>0x0){this['setComponentVisibility'](fe,!eS,0x0,f1(!eS));}else{var ff='visibility_'+fe['get']('id');if(this['existsKey'](ff)){if(this['getKey'](ff))this['setComponentVisibility'](fe,!![],0x0,f1(!![]));else this['setComponentVisibility'](fe,![],0x0,f1(![]));this['unregisterKey'](ff);}}}eW['unbind']('end',f2,this);if(!eY)eX['unbind']('end',f2,this);};var f3=function(){eW['unbind']('stop',f3,this,!![]);eW['unbind']('stop',f3,this);eW['unbind']('begin',f3,this,!![]);eW['unbind']('begin',f3,this);for(var fg=0x0,fh=eQ['length'];fg<fh;++fg){this['keepCompVisible'](eQ[fg],![]);}};var f4=function(fi,fj,fk){var fl=function(){var fm=function(fq,fr,fs){f0['setComponentVisibility'](fq,fr,fj,fs,fr?'showEffect':'hideEffect',![]);if(fk>0x0){var ft=fj+fk+(fs!=undefined?fs['get']('duration'):0x0);f0['setComponentVisibility'](fq,!fr,ft,f1(!fr),fr?'hideEffect':'showEffect',!![]);}};for(var fn=0x0,fo=eQ['length'];fn<fo;++fn){var fp=eQ[fn];if(eS=='toggle'){if(!fp['get']('visible'))fm(fp,!![],f1(!![]));else fm(fp,![],f1(![]));}else{fm(fp,eS,f1(eS));}}eW['unbind'](fi,fl,this);if(fi=='end'&&!eY)eX['unbind'](fi,fl,this);};eW['bind'](fi,fl,this);if(fi=='end'&&!eY)eX['bind'](fi,fl,this);};if(eR=='begin'){for(var f5=0x0,f6=eQ['length'];f5<f6;++f5){var f7=eQ[f5];this['keepCompVisible'](f7,!![]);if(eZ){var f8='visibility_'+f7['get']('id');this['registerKey'](f8,f7['get']('visible'));}}eW['bind']('stop',f3,this,!![]);eW['bind']('stop',f3,this);eW['bind']('begin',f3,this,!![]);eW['bind']('begin',f3,this);if(eZ){eW['bind']('end',f2,this);if(!eY)eX['bind']('end',f2,this);}}else if(eR=='end'&&eV>0x0){f4('begin',eV,0x0);eV=0x0;}if(eR!=undefined)f4(eR,eU,eV);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(fu,fv){var fw=fu['get']('selectedIndex');var fx=fu['get']('items')['length'];var fy=(fw+fv)%fx;while(fy<0x0){fy=fx+fy;}if(fw!=fy){fu['set']('selectedIndex',fy);}};TDV['Tour']['Script']['mixObject']=function(fz,fA){return this['assignObjRecursively'](fA,this['copyObjRecursively'](fz));};TDV['Tour']['Script']['openLink']=function(fB,fC){if(!fB||fB==location['href']){return;}var fD=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(fC=='_blank'&&fD){if(fB['startsWith']('/')){var fE=window['location']['href']['split']('/');fE['pop']();fB=fE['join']('/')+fB;}var fF=fB['split']('.')['pop']()['toLowerCase']();if(fF!='pdf'||fB['startsWith']('file://')){var fG=window['require']('electron')['shell'];fG['openExternal'](fB);}else{window['open'](fB,fC);}}else if(fD&&(fC=='_top'||fC=='_self')){window['location']=fB;}else{var fH=window['open'](fB,fC);fH['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(fI){var fJ=this['getCurrentPlayers']();var fK=fJ['length'];while(fK-->0x0){var fL=fJ[fK];if(fL['get']('state')=='playing'||fL['get']('viewerArea')&&fL['get']('viewerArea')['get']('id')==this['MainViewer']){var fM=this['getMediaFromPlayer'](fL);if(fI&&fM['get']('class')!='Video360'&&'pauseCamera'in fL){fL['pauseCamera']();}else{fL['pause']();}}else{fJ['splice'](fK,0x1);}}return fJ;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(fN,fO,fP){var fQ=this;var fR=fN['get']('items')[fO];var fS=fR['get']('media');var fT=fR['get']('player');var fU=fS['get']('id');var fV=function(){if(fN['get']('selectedIndex')!=fO){if(fY){fT['unbind']('stateChange',fW,fQ);}fQ['resumeGlobalAudios'](fU);}};var fW=function(fZ){var g0=fZ['data']['state'];if(g0=='stopped'){this['resumeGlobalAudios'](fU);}else if(g0=='playing'){this['pauseGlobalAudios'](fU,fP);}};var fX=fS['get']('class');var fY=fX=='Video360'||fX=='Video';if(fY){fT['bind']('stateChange',fW,this);}this['pauseGlobalAudios'](fU,fP);this['executeFunctionWhenChange'](fN,fO,fV,fV);};TDV['Tour']['Script']['pauseGlobalAudios']=function(g1,g2){if(window['pauseGlobalAudiosState']==undefined)window['pauseGlobalAudiosState']={};if(window['pauseGlobalAudiosList']==undefined)window['pauseGlobalAudiosList']=[];if(g1 in window['pauseGlobalAudiosState']){return;}var g3=this['getByClassName']('Audio')['concat'](this['getByClassName']('VideoPanoramaOverlay'));if(window['currentGlobalAudios']!=undefined)g3=g3['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(gf){return gf['audio'];}));var g4=[];var g5=Object['values'](window['pauseGlobalAudiosState']);for(var g7=0x0,g9=g5['length'];g7<g9;++g7){var ga=g5[g7];for(var gb=0x0;gb<ga['length'];++gb){var gd=ga[gb];if(g4['indexOf'](gd)==-0x1)g4['push'](gd);}}window['pauseGlobalAudiosState'][g1]=g4;var ge=window['currentGlobalAudios']||{};for(var g7=0x0,g9=g3['length'];g7<g9;++g7){var gd=g3[g7];if(gd['get']('state')=='playing'&&(g2==undefined||g2['indexOf'](gd)==-0x1)){if(gd['get']('id')in ge&&!ge[gd['get']('id')]['asBackground']){this['stopGlobalAudio'](gd);}else{gd['pause']();g4['push'](gd);}}}};TDV['Tour']['Script']['pauseGlobalAudio']=function(gg){var gh=window['currentGlobalAudios'];if(gh){var gi=gh[gg['get']('id')];if(gi)gg=gi['audio'];}if(gg['get']('state')=='playing')gg['pause']();};TDV['Tour']['Script']['playAudioList']=function(gj,gk){if(gj['length']==0x0)return;var gl=-0x1;var gm;var gn=this['playGlobalAudio'];var go=function(){if(++gl>=gj['length']){if(!gk)return;gl=0x0;}gm=gj[gl];gn(gm,go,!![]);};go();};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(gp,gq,gr,gs,gt){var gu=function(gG){if(gG['data']['previousSelectedIndex']==gq){this['stopGlobalAudio'](gr);if(gy){var gH=gx['get']('media');var gI=gH['get']('audios');gI['splice'](gI['indexOf'](gr),0x1);gH['set']('audios',gI);}gp['unbind']('change',gu,this);if(gs)gs();}};var gw=window['currentGlobalAudios'];if(gw&&gr['get']('id')in gw){gr=gw[gr['get']('id')]['audio'];if(gr['get']('state')!='playing'){gr['play']();}return gr;}gp['bind']('change',gu,this);var gx=gp['get']('items')[gq];var gy=gx['get']('class')=='PanoramaPlayListItem';if(gy){var gz=gx['get']('media');var gw=(gz['get']('audios')||[])['slice']();if(gr['get']('class')=='MediaAudio'){var gA=this['rootPlayer']['createInstance']('PanoramaAudio');gA['set']('autoplay',![]);gA['set']('audio',gr['get']('audio'));gA['set']('loop',gr['get']('loop'));gA['set']('id',gr['get']('id'));var gB=gr['getBindings']('stateChange');for(var gC=0x0;gC<gB['length'];++gC){var gD=gB[gC];if(typeof gD=='string')gD=new Function('event',gD);gA['bind']('stateChange',gD,this);}gr=gA;}gw['push'](gr);gz['set']('audios',gw);}var gE=this['playGlobalAudio'](gr,gs);if(gt===!![]){var gF=function(){if(gE['get']('state')=='playing'){this['pauseGlobalAudios'](gE['get']('id'),[gE]);}else{this['resumeGlobalAudios'](gE['get']('id'));gE['unbind']('stateChange',gF,this);}};gE['bind']('stateChange',gF,this);}return gE;};TDV['Tour']['Script']['playGlobalAudio']=function(gJ,gK,gL){var gM=function(){gJ['unbind']('end',gM,this);this['stopGlobalAudio'](gJ);if(gK)gK['call'](this);};gJ=this['getGlobalAudio'](gJ);var gN=window['currentGlobalAudios'];if(!gN){gN=window['currentGlobalAudios']={};}gN[gJ['get']('id')]={'audio':gJ,'asBackground':gL||![]};if(gJ['get']('state')=='playing'){return gJ;}if(!gJ['get']('loop')){gJ['bind']('end',gM,this);}gJ['play']();return gJ;};TDV['Tour']['Script']['resumeGlobalAudios']=function(gO){if(window['pauseGlobalAudiosState']==undefined||!(gO in window['pauseGlobalAudiosState']))return;var gP=window['pauseGlobalAudiosState'][gO];delete window['pauseGlobalAudiosState'][gO];var gQ=Object['values'](window['pauseGlobalAudiosState']);for(var gS=0x0,gU=gQ['length'];gS<gU;++gS){var gV=gQ[gS];for(var gW=gP['length']-0x1;gW>=0x0;--gW){var gY=gP[gW];if(gV['indexOf'](gY)!=-0x1)gP['splice'](gW,0x1);}}for(var gS=0x0,gU=gP['length'];gS<gU;++gS){var gY=gP[gS];if(gY['get']('state')=='paused')gY['play']();}};TDV['Tour']['Script']['resumePlayers']=function(gZ,h0){for(var h1=0x0;h1<gZ['length'];++h1){var h2=gZ[h1];var h3=this['getMediaFromPlayer'](h2);if(!h3)continue;if(h0&&h3['get']('class')!='Video360'&&'pauseCamera'in h2){h2['resumeCamera']();}else{h2['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(h4){var h5=window['currentGlobalAudios'];var h6=this;if(h5){Object['keys'](h5)['forEach'](function(h7){var h8=h5[h7];if(!h4||h4&&!h8['asBackground']){h6['stopGlobalAudio'](h8['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(h9){var ha=window['currentGlobalAudios'];if(ha){var hb=ha[h9['get']('id')];if(hb){h9=hb['audio'];delete ha[h9['get']('id')];if(Object['keys'](ha)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(h9)h9['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(hc,hd){var he=this['getCurrentPlayerWithMedia'](hd);if(he!=undefined){var hf=hc['get']('initialPosition');hf['set']('yaw',he['get']('yaw'));hf['set']('pitch',he['get']('pitch'));hf['set']('hfov',he['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(hg,hh,hi,hj,hk,hl){var hm=this['getKey']('keepVisibility_'+hg['get']('id'));if(hm)return;this['unregisterKey']('visibility_'+hg['get']('id'));var hn=function(){if(hj&&hk){hg['set'](hk,hj);}hg['set']('visible',hh);if(hg['get']('class')=='ViewerArea'){try{if(hh)hg['restart']();else if(hg['get']('playbackState')=='playing')hg['pause']();}catch(hs){};}};var ho='effectTimeout_'+hg['get']('id');if(!hl&&window['hasOwnProperty'](ho)){var hq=window[ho];if(hq instanceof Array){for(var hr=0x0;hr<hq['length'];hr++){clearTimeout(hq[hr]);}}else{clearTimeout(hq);}delete window[ho];}else if(hh==hg['get']('visible')&&!hl)return;if(hi&&hi>0x0){var hq=setTimeout(function(){if(window[ho]instanceof Array){var ht=window[ho];var hu=ht['indexOf'](hq);ht['splice'](hu,0x1);if(ht['length']==0x0){delete window[ho];}}else{delete window[ho];}hn();},hi);if(window['hasOwnProperty'](ho)){window[ho]=[window[ho],hq];}else{window[ho]=hq;}}else{hn();}};TDV['Tour']['Script']['setLocale']=function(hv){this['get']('data')['localeManager']['setLocale'](hv);};TDV['Tour']['Script']['setEndToItemIndex']=function(hw,hx,hy){var hz=function(){if(hw['get']('selectedIndex')==hx)hw['set']('selectedIndex',hy);};this['executeFunctionWhenChange'](hw,hx,hz);};TDV['Tour']['Script']['setMapLocation']=function(hA,hB){var hC=function(){hA['unbind']('stop',hC,this);hD['set']('mapPlayer',null);};hA['bind']('stop',hC,this);var hD=hA['get']('player');hD['set']('mapPlayer',hB);};TDV['Tour']['Script']['setMainMediaByIndex']=function(hE){var hF=undefined;if(hE>=0x0&&hE<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',hE);hF=this['mainPlayList']['get']('items')[hE];}return hF;};TDV['Tour']['Script']['setMainMediaByName']=function(hG){var hH=this['_getPlayListsWithViewer'](this['MainViewer']);for(var hI=0x0,hJ=hH['length'];hI<hJ;++hI){var hK=hH[hI];var hL=hK['get']('items');for(var hM=0x0,hN=hL['length'];hM<hN;++hM){var hO=hL[hM];var hP=hO['get']('media')['get']('data');if(hP!==undefined&&hP['label']==hG&&hO['get']('player')['get']('viewerArea')==this['MainViewer']){hK['set']('selectedIndex',hM);return hO;}}}};TDV['Tour']['Script']['setMediaBehaviour']=function(hQ,hR,hS){var hT=this;var hU=function(ii){if(ii['data']['state']=='stopped'){hY['call'](this,!![]);}};var hV=function(){i4['unbind']('begin',hV,hT);var ij=i4['get']('media');if(ij['get']('class')!='Panorama'||ij['get']('camera')!=undefined&&ij['get']('camera')['get']('initialSequence')!=undefined){i5['bind']('stateChange',hU,hT);}};var hW=function(){var ik=i1['get']('selectedIndex');if(ik!=-0x1){i3=ik;hY['call'](this,![]);}};var hX=function(){hY['call'](this,![]);};var hY=function(il){if(!i1)return;var im=i4['get']('media');if((im['get']('class')=='Video360'||im['get']('class')=='Video')&&im['get']('loop')==!![]&&!il)return;hQ['set']('selectedIndex',-0x1);if(ic&&ib!=-0x1){if(ic){if(ib>0x0&&ic['get']('movements')[ib-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var io=id['get']('initialPosition');var ip=io['get']('yaw');var iq=io['get']('pitch');var ir=io['get']('hfov');var is=ic['get']('movements')[ib-0x1];io['set']('yaw',is['get']('targetYaw'));io['set']('pitch',is['get']('targetPitch'));io['set']('hfov',is['get']('targetHfov'));var it=function(iw){io['set']('yaw',ip);io['set']('pitch',iq);io['set']('hfov',ir);i7['unbind']('end',it,this);};i7['bind']('end',it,this);}ic['set']('movementIndex',ib);}}if(i5){i4['unbind']('begin',hV,this);i5['unbind']('stateChange',hU,this);for(var iu=0x0;iu<ie['length'];++iu){ie[iu]['unbind']('click',hX,this);}}if(ia){var iv=this['getMediaFromPlayer'](i5);if(iv==undefined||iv==i4['get']('media')){i1['set']('selectedIndex',i3);}if(hQ!=i1)i1['unbind']('change',hW,this);}else{i8['set']('visible',i9);}i1=undefined;};if(!hS){var hZ=hQ['get']('selectedIndex');var i0=hZ!=-0x1?hQ['get']('items')[hQ['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['MainViewer']);if(i0){hS=this['getMediaFromPlayer'](i0);}}var i1=undefined;if(hS){var i2=this['getPlayListsWithMedia'](hS,!![]);i1=i2['indexOf'](hQ)!=-0x1?hQ:i2['length']>0x0?i2[0x0]:undefined;}if(!i1){hQ['set']('selectedIndex',hR);return;}var i3=i1['get']('selectedIndex');var i4=hQ['get']('items')[hR];var i5=i4['get']('player');var i6=this['getMediaFromPlayer'](i5);if(hQ['get']('selectedIndex')==hR&&i6==i4['get']('media')||i3==-0x1){return;}if(hQ['get']('selectedIndex')==hR&&i6!=i4['get']('media'))hQ['set']('selectedIndex',-0x1);var i7=i1['get']('items')[i3];var i8=i5['get']('viewerArea');var i9=i8['get']('visible');var ia=i8==i7['get']('player')['get']('viewerArea');if(ia){if(hQ!=i1){i1['set']('selectedIndex',-0x1);i1['bind']('change',hW,this);}}else{i8['set']('visible',!![]);}var ib=-0x1;var ic=undefined;var id=i7['get']('camera');if(id){ic=id['get']('initialSequence');if(ic){ib=ic['get']('movementIndex');}}hQ['set']('selectedIndex',hR);var ie=[];var ig=function(ix){var iy=i5['get'](ix);if(iy==undefined)return;if(Array['isArray'](iy))ie=ie['concat'](iy);else ie['push'](iy);};ig('buttonStop');for(var ih=0x0;ih<ie['length'];++ih){ie[ih]['bind']('click',hX,this);}i4['bind']('begin',hV,hT);this['executeFunctionWhenChange'](hQ,hR,hX);};TDV['Tour']['Script']['setOverlayBehaviour']=function(iz,iA,iB,iC){var iD=function(){switch(iB){case'triggerClick':this['triggerOverlay'](iz,'click');break;case'stop':case'play':case'pause':iz[iB]();break;case'togglePlayPause':case'togglePlayStop':if(iz['get']('state')=='playing')iz[iB=='togglePlayPause'?'pause':'stop']();else iz['play']();break;}if(iC){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var iH=iz['get']('id');window['overlaysDispatched'][iH]=!![];setTimeout(function(){delete window['overlaysDispatched'][iH];},0x3e8);}};if(iC&&window['overlaysDispatched']!=undefined&&iz['get']('id')in window['overlaysDispatched'])return;var iE=this['getFirstPlayListWithMedia'](iA,!![]);if(iE!=undefined){var iF=this['getPlayListItemByMedia'](iE,iA);if(iE['get']('items')['indexOf'](iF)!=iE['get']('selectedIndex')){var iG=function(iI){iF['unbind']('begin',iG,this);iD['call'](this);};iF['bind']('begin',iG,this);return;}}iD['call'](this);};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(iJ){var iK=this['getActiveMediaWithViewer'](this['MainViewer']);if(iK!=undefined&&(iK['get']('class')['indexOf']('Panorama')!=-0x1||iK['get']('class')=='Video360')){var iL=iJ['get']('media');var iM=this['cloneCamera'](iJ['get']('camera'));this['setCameraSameSpotAsMedia'](iM,iK);this['startPanoramaWithCamera'](iL,iM);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(iN,iO,iP,iQ){var iR=iN['get']('selectedIndex');var iS=iN['get']('items');if(iS[iR]==iO){var iT=iO['get']('player');iT['moveTo'](iP,iQ,iT['get']('roll'),iT['get']('hfov'));}else{var iU=iO['get']('media');var iV=this['cloneCamera'](iO['get']('camera'));var iW=iV['get']('initialPosition');iW['set']('yaw',iP);iW['set']('pitch',iQ);this['startPanoramaWithCamera'](iU,iV);}};TDV['Tour']['Script']['setValue']=function(iX,iY,iZ){if('set'in iX)iX['set'](iY,iZ);else iX[iY]=iZ;};TDV['Tour']['Script']['setStartTimeVideo']=function(j0,j1){var j2=this['getPlayListItems'](j0);var j3=[];var j4=function(){for(var j8=0x0;j8<j2['length'];++j8){var j9=j2[j8];j9['set']('startTime',j3[j8]);j9['unbind']('stop',j4,this);}};for(var j5=0x0;j5<j2['length'];++j5){var j6=j2[j5];var j7=j6['get']('player');if(j7['get']('video')==j0&&j7['get']('state')=='playing'){j7['seek'](j1);}else{j3['push'](j6['get']('startTime'));j6['set']('startTime',j1);j6['bind']('stop',j4,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(ja,jb){this['setStartTimeVideo'](ja,jb['get']('currentTime'));};TDV['Tour']['Script']['shareSocial']=function(jc,jd,je,jf){if(je){this['updateDeepLink']();}if(jd==undefined){jd=je?location['href']:location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}else if(je){jd+=location['hash'];}jd=function(jh){switch(jh){case'fb':var ji=jd['split']('#');return'https://www.facebook.com/sharer/sharer.php?u='+(ji['length']==0x2?encodeURIComponent(ji[0x0])+'&hashtag='+encodeURIComponent('#'+ji[0x1]):encodeURIComponent(jd));case'li':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(jd);case'pt':return'https://pinterest.com/pin/create/button/?url='+jd;case'tw':return'https://twitter.com/intent/tweet?source=webclient&url='+jd;case'wa':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(jd);default:return undefined;}}(jc);if(jf){for(var jg in jf){jd+='&'+jg+'='+jf[jg];}}this['openLink'](jd,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(jj,jk,jl){var jm=function(jq){for(var jr=0x0,js=jk['length'];jr<js;jr++){var jt=jk[jr];if(jt['get']('class')=='HTMLText'&&(jt['get']('html')==''||jt['get']('html')==undefined)){continue;}jt['set']('visible',jq);}};if(this['rootPlayer']['get']('touchDevice')==!![]){jm(!![]);}else{var jn=-0x1;var jo=function(){jm(!![]);if(jn>=0x0)clearTimeout(jn);jj['unbind']('rollOver',jo,this);jj['bind']('rollOut',jp,this);};var jp=function(){var ju=function(){jm(![]);jj['unbind']('rollOver',jo,this);};jj['unbind']('rollOut',jp,this);jj['bind']('rollOver',jo,this);jn=setTimeout(ju,jl);};jj['bind']('rollOver',jo,this);}};TDV['Tour']['Script']['showPopupMedia']=function(jv,jw,jx,jy,jz,jA,jB){var jC=this;var jD=function(){jx['set']('selectedIndex',-0x1);jC['MainViewer']['set']('toolTipEnabled',!![]);if(jB){jC['resumeGlobalAudios']();}this['resumePlayers'](jI,!jB);if(jH){this['unbind']('resize',jF,this);}jv['unbind']('close',jD,this);};var jE=function(){jv['hide']();};var jF=function(){var jJ=function(k0){return jv['get'](k0)||0x0;};var jK=jC['get']('actualWidth');var jL=jC['get']('actualHeight');var jM=jC['getMediaWidth'](jw);var jN=jC['getMediaHeight'](jw);var jO=parseFloat(jy)/0x64;var jP=parseFloat(jz)/0x64;var jQ=jO*jK;var jR=jP*jL;var jS=jJ('footerHeight');var jT=jJ('headerHeight');if(!jT){var jU=jJ('closeButtonIconHeight')+jJ('closeButtonPaddingTop')+jJ('closeButtonPaddingBottom');var jV=jC['getPixels'](jJ('titleFontSize'))+jJ('titlePaddingTop')+jJ('titlePaddingBottom');jT=jU>jV?jU:jV;jT+=jJ('headerPaddingTop')+jJ('headerPaddingBottom');}var jW=jQ-jJ('bodyPaddingLeft')-jJ('bodyPaddingRight')-jJ('paddingLeft')-jJ('paddingRight');var jX=jR-jT-jS-jJ('bodyPaddingTop')-jJ('bodyPaddingBottom')-jJ('paddingTop')-jJ('paddingBottom');var jY=jW/jX;var jZ=jM/jN;if(jY>jZ){jQ=jX*jZ+jJ('bodyPaddingLeft')+jJ('bodyPaddingRight')+jJ('paddingLeft')+jJ('paddingRight');}else{jR=jW/jZ+jT+jS+jJ('bodyPaddingTop')+jJ('bodyPaddingBottom')+jJ('paddingTop')+jJ('paddingBottom');}if(jQ>jK*jO){jQ=jK*jO;}if(jR>jL*jP){jR=jL*jP;}jv['set']('width',jQ);jv['set']('height',jR);jv['set']('x',(jK-jJ('actualWidth'))*0.5);jv['set']('y',(jL-jJ('actualHeight'))*0.5);};if(jA){this['executeFunctionWhenChange'](jx,0x0,jE);}var jG=jw['get']('class');var jH=jG=='Video'||jG=='Video360';jx['set']('selectedIndex',0x0);if(jH){this['bind']('resize',jF,this);jF();jx['get']('items')[0x0]['get']('player')['play']();}else{jv['set']('width',jy);jv['set']('height',jz);}this['MainViewer']['set']('toolTipEnabled',![]);if(jB){this['pauseGlobalAudios']();}var jI=this['pauseCurrentPlayers'](!jB);jv['bind']('close',jD,this);jv['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(k1,k2,k3,k4,k5,k6,k7,k8,k9,ka,kb,kc){var kd=this;var ke=![];var kf=function(){ku['unbind']('loaded',ki,kd);kk();};var kg=function(){ku['unbind']('click',kg,this);if(ky!=undefined){clearTimeout(ky);}};var kh=function(){setTimeout(ko,0x0);};var ki=function(){kd['unbind']('click',kf,kd);kt['set']('visible',!![]);ko();kv['set']('visible',!![]);ku['unbind']('loaded',ki,this);ku['bind']('userInteractionStart',kp,this);ku['bind']('userInteractionEnd',kq,this);ku['bind']('resize',kh,this);ky=setTimeout(kj,0xc8);};var kj=function(){ky=undefined;if(k8){var kA=function(){kk();};ku['bind']('click',kg,this);ky=setTimeout(kA,k8);}ku['bind']('backgroundClick',kk,this);if(k2){ku['bind']('click',km,this);ku['set']('imageCursor','hand');}kv['bind']('click',kk,this);if(kb)kb();};var kk=function(){kd['MainViewer']['set']('toolTipEnabled',!![]);ke=!![];if(ky)clearTimeout(ky);if(kz)clearTimeout(kz);if(k8)kg();if(kc)kc();ku['set']('visible',![]);if(k6&&k6['get']('duration')>0x0){k6['bind']('end',kl,this);}else{ku['set']('image',null);}kv['set']('visible',![]);kt['set']('visible',![]);kd['unbind']('click',kf,kd);ku['unbind']('backgroundClick',kk,this);ku['unbind']('userInteractionStart',kp,this);ku['unbind']('userInteractionEnd',kq,this,!![]);ku['unbind']('resize',kh,this);if(k2){ku['unbind']('click',km,this);ku['set']('cursor','default');}kv['unbind']('click',kk,this);kd['resumePlayers'](kx,k9==null||ka);if(k9){if(ka){kd['resumeGlobalAudios']();}kd['stopGlobalAudio'](k9);}};var kl=function(){ku['set']('image',null);k6['unbind']('end',kl,this);};var km=function(){ku['set']('image',kn()?k1:k2);};var kn=function(){return ku['get']('image')==k2;};var ko=function(){var kB=ku['get']('actualWidth')-ku['get']('imageLeft')-ku['get']('imageWidth')+0xa;var kC=ku['get']('imageTop')+0xa;if(kB<0xa)kB=0xa;if(kC<0xa)kC=0xa;kv['set']('right',kB);kv['set']('top',kC);};var kp=function(){if(kz){clearTimeout(kz);kz=undefined;}else{kv['set']('visible',![]);}};var kq=function(){if(!ke){kz=setTimeout(kr,0x12c);}};var kr=function(){kz=undefined;kv['set']('visible',!![]);ko();};var ks=function(kD){var kE=kD['get']('data');if(kE&&'extraLevels'in kE){var kF=kd['rootPlayer']['createInstance'](kD['get']('class'));var kG=kE['extraLevels'];kF['set']('levels',kD['get']('levels')['concat'](kG));kD=kF;}return kD;};this['MainViewer']['set']('toolTipEnabled',![]);var kt=this['veilPopupPanorama'];var ku=this['zoomImagePopupPanorama'];var kv=this['closeButtonPopupPanorama'];if(k7){for(var kw in k7){kv['set'](kw,k7[kw]);}}var kx=this['pauseCurrentPlayers'](k9==null||!ka);if(k9){if(ka){this['pauseGlobalAudios']();}this['playGlobalAudio'](k9);}var ky=undefined;var kz=undefined;k1=ks(k1);if(k2)k2=ks(k2);ku['bind']('loaded',ki,this);setTimeout(function(){kd['bind']('click',kf,kd,![]);},0x0);ku['set']('image',k1);ku['set']('customWidth',k3);ku['set']('customHeight',k4);ku['set']('showEffect',k5);ku['set']('hideEffect',k6);ku['set']('visible',!![]);return ku;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(kH,kI,kJ,kK,kL,kM,kN){var kO=this;this['MainViewer']['set']('toolTipEnabled',![]);var kP=this['isCardboardViewMode']();if(!kP){var kQ=this['zoomImagePopupPanorama'];var kR=kH['get']('showDuration');var kS=kH['get']('hideDuration');var kU=this['pauseCurrentPlayers'](kM==null||!kN);var kV=kH['get']('popupMaxWidth');var kW=kH['get']('popupMaxHeight');var kX=function(){var l0=function(){if(!kO['isCardboardViewMode']())kH['set']('visible',![]);};kH['unbind']('showEnd',kX,kO);kH['set']('showDuration',0x1);kH['set']('hideDuration',0x1);kO['showPopupImage'](kJ,kK,kH['get']('popupMaxWidth'),kH['get']('popupMaxHeight'),null,null,kI,kL,kM,kN,l0,kY);};var kY=function(){var l1=function(){kH['unbind']('showEnd',l1,kO);kH['set']('visible',![]);kH['set']('showDuration',kR);kH['set']('popupMaxWidth',kV);kH['set']('popupMaxHeight',kW);};kO['resumePlayers'](kU,kM==null||!kN);var l2=kQ['get']('imageWidth');var l3=kQ['get']('imageHeight');kH['bind']('showEnd',l1,kO,!![]);kH['set']('showDuration',0x1);kH['set']('hideDuration',kS);kH['set']('popupMaxWidth',l2);kH['set']('popupMaxHeight',l3);if(kH['get']('visible'))l1();else kH['set']('visible',!![]);kO['MainViewer']['set']('toolTipEnabled',!![]);};kH['bind']('showEnd',kX,this,!![]);}else{var kZ=function(){kO['resumePlayers'](kU,kM==null||kN);if(kM){if(kN){kO['resumeGlobalAudios']();}kO['stopGlobalAudio'](kM);}kH['unbind']('hideEnd',kZ,kO);kO['MainViewer']['set']('toolTipEnabled',!![]);};var kU=this['pauseCurrentPlayers'](kM==null||!kN);if(kM){if(kN){this['pauseGlobalAudios']();}this['playGlobalAudio'](kM);}kH['bind']('hideEnd',kZ,this,!![]);}kH['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(l4,l5,l6){var l7=this;var l8=function(){l4['unbind']('showEnd',l8);lc['bind']('click',la,this);lb();lc['set']('visible',!![]);};var l9=function(){if(!l4['get']('loop'))la();};var la=function(){l7['MainViewer']['set']('toolTipEnabled',!![]);l4['set']('visible',![]);lc['set']('visible',![]);lc['unbind']('click',la,l7);l4['unbind']('end',l9,l7);l4['unbind']('hideEnd',la,l7,!![]);l7['resumePlayers'](le,!![]);if(l6){l7['resumeGlobalAudios']();}};var lb=function(){var lf=0xa;var lg=0xa;lc['set']('right',lf);lc['set']('top',lg);};this['MainViewer']['set']('toolTipEnabled',![]);var lc=this['closeButtonPopupPanorama'];if(l5){for(var ld in l5){lc['set'](ld,l5[ld]);}}var le=this['pauseCurrentPlayers'](!![]);if(l6){this['pauseGlobalAudios']();}l4['bind']('end',l9,this,!![]);l4['bind']('showEnd',l8,this,!![]);l4['bind']('hideEnd',la,this,!![]);l4['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(lh,li,lj){if(lh['get']('visible')==!![]){return;}var lk=function(){ll();this['resumePlayers'](lo,!lj);lh['unbind']('close',lk,this);};var ll=function(){lh['unbind']('click',ll,this);if(lm!=undefined){clearTimeout(lm);}};var lm=undefined;if(li){var ln=function(){lh['hide']();};lh['bind']('click',ll,this);lm=setTimeout(ln,li);}var lo=this['pauseCurrentPlayers'](!lj);lh['bind']('close',lk,this);lh['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(lp,lq){if(window['currentPanoramasWithCameraChanged']!=undefined&&window['currentPanoramasWithCameraChanged']['indexOf'](lp)!=-0x1){return;}var lr=this['getByClassName']('PlayList');if(lr['length']==0x0)return;var ls=[];for(var lu=0x0,lv=lr['length'];lu<lv;++lu){var lw=lr[lu];var lx=lw['get']('items');for(var ly=0x0,lz=lx['length'];ly<lz;++ly){var lB=lx[ly];if(lB['get']('media')==lp&&(lB['get']('class')=='PanoramaPlayListItem'||lB['get']('class')=='Video360PlayListItem')){ls['push']({'camera':lB['get']('camera'),'item':lB});lB['set']('camera',lq);}}}if(ls['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']=[lp];}else{window['currentPanoramasWithCameraChanged']['push'](lp);}var lC=function(){var lH=window['currentPanoramasWithCameraChanged']['indexOf'](lp);if(lH!=-0x1){window['currentPanoramasWithCameraChanged']['splice'](lH,0x1);}for(var lI=0x0;lI<ls['length'];lI++){ls[lI]['item']['set']('camera',ls[lI]['camera']);ls[lI]['item']['unbind']('stop',lC,this);}};var lD=function(lJ){lJ['source']['get']('player')['get']('viewerArea')['set']('translationTransitionEnabled',!![]);};for(var lu=0x0;lu<ls['length'];lu++){var lE=ls[lu];var lB=lE['item'];var lF=lB['get']('player');if(lF){var lG=lF['get']('viewerArea');if(lG&&lG['get']('translationTransitionEnabled')==!![]){lG['set']('translationTransitionEnabled',![]);lB['bind']('begin',lD,this);}}lB['bind']('stop',lC,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(lK,lL){var lM=lK['get']('initialSequence');lM['pause']();var lN=function(){lM['play']();};setTimeout(lN,lL);};TDV['Tour']['Script']['syncPlaylists']=function(lO){var lP=function(lX,lY){for(var lZ=0x0,m0=lO['length'];lZ<m0;++lZ){var m1=lO[lZ];if(m1!=lY){var m2=m1['get']('items');for(var m3=0x0,m4=m2['length'];m3<m4;++m3){if(m2[m3]['get']('media')==lX){if(m1['get']('selectedIndex')!=m3){m1['set']('selectedIndex',m3);}break;}}}}};var lQ=function(m5){var m6=m5['source'];var m7=m6['get']('selectedIndex');if(m7<0x0)return;var m8=m6['get']('items')[m7]['get']('media');lP(m8,m6);};var lR=function(m9){var ma=m9['source']['get']('panoramaMapLocation');if(ma){var mb=ma['get']('map');lP(mb);}};for(var lT=0x0,lV=lO['length'];lT<lV;++lT){lO[lT]['bind']('change',lQ,this);}var lW=this['getByClassName']('MapPlayer');for(var lT=0x0,lV=lW['length'];lT<lV;++lT){lW[lT]['bind']('panoramaMapLocation_change',lR,this);}};TDV['Tour']['Script']['translate']=function(mc){return this['get']('data')['localeManager']['trans'](mc);};TDV['Tour']['Script']['triggerOverlay']=function(md,me){if(md['get']('areas')!=undefined){var mf=md['get']('areas');for(var mg=0x0;mg<mf['length'];++mg){mf[mg]['trigger'](me);}}else{md['trigger'](me);}};TDV['Tour']['Script']['updateDeepLink']=function(){var mh=this['mainPlayList']['get']('selectedIndex');if(mh>=0x0){location['hash']='#media='+(mh+0x1);}else{var mi=this['getActiveMediaWithViewer'](this['MainViewer']);if(mi!=undefined){var mj=mi['get']('data');if(mj){location['hash']='#media-name='+mj['label'];}}}};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(mk,ml,mm){var mn=function(){var mp=mk['get']('selectedIndex');if(mp>=0x0){var mq=function(){mt['unbind']('begin',mq);mr(mp);};var mr=function(mu){var mv=mt['get']('media');var mw=mv['get']('data');var mx=mw!==undefined?mw['description']||mv['get']('label'):mv['get']('label');ms(mx);};var ms=function(my){if(my!==undefined){ml['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+my+'</SPAN></div>');}else{ml['set']('html','');}};var mt=mk['get']('items')[mp];if(ml['get']('html')){ms('Loading...');mt['bind']('begin',mq);}else{mr(mp);}}};var mo=function(){ml['set']('html',undefined);mk['unbind']('change',mn,this);mm['unbind']('stop',mo,this);};if(mm){mm['bind']('stop',mo,this);}mk['bind']('change',mn,this);mn();};TDV['Tour']['Script']['updateVideoCues']=function(mz,mA){var mB=mz['get']('items')[mA];var mC=mB['get']('media');if(mC['get']('cues')['length']==0x0)return;var mD=mB['get']('player');var mE=[];var mF=function(){if(mz['get']('selectedIndex')!=mA){mC['unbind']('cueChange',mG,this);mz['unbind']('change',mF,this);}};var mG=function(mH){var mI=mH['data']['activeCues'];for(var mJ=0x0,mK=mE['length'];mJ<mK;++mJ){var mL=mE[mJ];if(mI['indexOf'](mL)==-0x1&&(mL['get']('startTime')>mD['get']('currentTime')||mL['get']('endTime')<mD['get']('currentTime')+0.5)){mL['trigger']('end');}}mE=mI;};mC['bind']('cueChange',mG,this);mz['bind']('change',mF,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(mM,mN){var mO=this['get'](mN);for(var mP in mM){mM[mP]['set']('visible',mO);}};TDV['Tour']['Script']['quizStart']=function(){var mQ=this['get']('data')['quiz'];return mQ?mQ['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var mR=this['get']('data')['quiz'];return mR?mR['finish']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(mS){var mT=this['get']('data')['quiz'];if(mT)mT['setItemFound'](mS);};TDV['Tour']['Script']['quizShowQuestion']=function(mU){var mV=this['get']('data');var mW=mV['quiz'];var mX;if(mW){var mY=this['pauseCurrentPlayers'](!![]);var mZ=this[mU];var n0;if(!mZ['media']){n0=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){n0={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}mX=mW['showQuestion'](mU,n0);mX['then'](function(n1){this['resumePlayers'](mY,!![]);}['bind'](this));}return mX;};TDV['Tour']['Script']['quizShowScore']=function(n2){var n3=this['get']('data');var n4=n3['quiz'];if(n4){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){n2=n2||{};n2=this['mixObject'](n2,n3['scorePortraitConfig']);}return n4['showScore'](n2);}};TDV['Tour']['Script']['quizShowTimeout']=function(n5,n6){var n7=this['get']('data');var n8=n7['quiz'];if(n8){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){n6=n6||{};n6=this['mixObject'](n6,n7['scorePortraitConfig']);}n8['showTimeout'](n5,n6);}};TDV['Tour']['Script']['getKey']=function(n9){return window[n9];};TDV['Tour']['Script']['registerKey']=function(na,nb){window[na]=nb;};TDV['Tour']['Script']['unregisterKey']=function(nc){delete window[nc];};TDV['Tour']['Script']['existsKey']=function(nd){return nd in window;};
//# sourceMappingURL=http://localhost:9000/script_v2020.2.11.js.map
//Generated with v2020.2.11, Mon Jun 22 2020